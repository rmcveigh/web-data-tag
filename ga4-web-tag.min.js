var ucDataLayerName="uc_data_layer_variable",ucEventData={},ucEventName="uc_data_tag_event";function ucParseJsonResponse(e){try{return JSON.parse(e)}catch(a){return{body:e}}}function ucReplaceTemplateVars(e,a){return e.replace(/\$\{([^\}]+)\}/g,(function(e,n){return a[n]||e}))}function ucSendImagePixel(e){var a=new Image(1,1);e.startsWith(("/"===gtmServerDomain.charAt(gtmServerDomain.length-1)?gtmServerDomain.slice(0,-1):gtmServerDomain)+"/_set_cookie")&&(ucPendingCookies++,a.onload=a.onerror=function(){a.onload=a.onerror=null,ucPendingCookies--,(!xhr||4===xhr.readyState)&&ucEventName&&ucDataLayerName&&waitForCookies&&0===ucPendingCookies&&ucPushEventToDataLayer()}),a.src=e}function ucSendNavigatorBeacon(e){var a;try{a=navigator.sendBeacon&&navigator.sendBeacon(e)}catch(e){}a||ucSendImagePixel(e)}function ucPushEventToDataLayer(){window[ucDataLayerName]=window[ucDataLayerName]||[],ucEventData.event=ucEventName,window[ucDataLayerName].push(ucEventData)}function ucHandleResponseEvent(e){if(e){var a,n=e.send_pixel||[];if(Array.isArray(n))for(a=0;a<n.length;a++)ucSendImagePixel(n[a]);var t=e.send_beacon||[];if(Array.isArray(t))for(a=0;a<t.length;a++)ucSendNavigatorBeacon(t[a]);if("object"==typeof e.response){var r=e.response.status_code||0,o=ucParseJsonResponse(e.response.body||{});for(var c in o)o.hasOwnProperty(c)&&(ucEventData[c]=o[c]);ucEventData.status=r}}}function ucSendFetchRequest(e,a,n,t,r,o,c,s,u){fetch(e+a,{method:"POST",headers:{"Content-Type":"text/plain"},credentials:"include",keepalive:!0,body:n}).then((function(e){e.text().then((function(a){a&&(a=ucReplaceTemplateVars(a,t)),a&&a.startsWith("event: message\ndata: ")&&a.split("\n\n").filter((function(e){return e})).forEach((function(e){try{ucHandleResponseEvent(JSON.parse(e.replace("event: message\ndata: ","")))}catch(e){console.error("Error processing response data:",e)}})),r&&o&&(a&&a.startsWith("event: message\ndata: ")?c&&0!==s||ucPushEventToDataLayer():(ucParseJsonResponse(a).status=e.status,ucPushEventToDataLayer()))}))})).catch((function(e){console.error(e)}))}function ucTransmitData(e,a,n,t,r,o,c,s){t=t||!1,r=r||"data_layer_variable",o=o||!1,s=s||"Google Analytics";var u=JSON.stringify(e),i={transport_url:a},d=c;if(!d){var v="undefined"!=typeof window&&window.dataLayer||"undefined"!=typeof dataLayer&&dataLayer||[];v&&v.length>0&&v.forEach((function(e){"object"==typeof e&&Object.keys(e).forEach((function(a){a===s&&(d=e[a])}))}))}d?ucSendFetchRequest(a,n,u,i,t,r,o,0,ucEventData):console.warn("User has not consented to Google Analytics")}